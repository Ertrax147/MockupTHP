<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
    <title>BIOREN - Mockup Gestión de Equipos</title>
    <style>
        /* Reset & base */
        * {
            box-sizing: border-box;
        }
        body {
            margin: 0; padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: #f5f7fa;
            color: #333;
            max-width: 350px;
            margin-left:auto;
            margin-right:auto;
            height: 600px;
            overflow: hidden;
            display: flex;
            flex-direction: column;
        }
        h1, h2, h3 {
            margin: 0 0 1rem 0;
        }
        button {
            cursor: pointer;
            background-color: #007bff;
            border: none;
            color: white;
            padding: 0.7rem 1rem;
            border-radius: 6px;
            font-weight: 600;
            transition: background-color 0.3s ease;
        }
        button:hover:not(:disabled) {
            background-color: #0056b3;
        }
        button:disabled {
            background-color: #cccccc;
            cursor: not-allowed;
        }
        input, select, textarea {
            width: 100%;
            padding: 0.5rem;
            margin-top: 0.3rem;
            margin-bottom: 1rem;
            border-radius: 6px;
            border: 1px solid #ccc;
            font-size: 1rem;
            font-family: inherit;
        }
        input[type="file"] {
            padding: 0.2rem;
        }

        header {
            background: #004080;
            color: white;
            padding: 1rem;
            text-align: center;
            font-weight: 700;
            font-size: 1.4rem;
        }

        /* Layout containers */
        .screen {
            flex: 1;
            overflow-y: auto;
            padding: 1rem;
            background: #fff;
            box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        }
        .hidden {
            display: none;
        }
        nav {
            background: #e9ecef;
            padding: 0.8rem 1rem;
            display: flex;
            justify-content: space-around;
        }
        nav button {
            background: transparent;
            color: #004080;
            font-weight: 700;
            padding: 0.5rem 0.8rem;
            border-radius: 4px;
            border: 2px solid transparent;
            font-size: 0.9rem;
        }
        nav button.active, nav button:hover {
            background: #004080;
            color: white;
            border-color: #003366;
        }

        /* Login Screen */
        #loginScreen form {
            display: flex;
            flex-direction: column;
        }
        #loginScreen img.logo {
            display: block;
            max-width: 120px;
            margin: 0 auto 1.5rem auto;
        }
        #loginError {
            color: red;
            font-weight: 700;
            margin-bottom: 1rem;
            display: none;
        }

        /* Dashboard */
        #dashboardScreen .status-cards {
            display: flex;
            justify-content: space-between;
            margin-bottom: 1rem;
        }
        #dashboardScreen .status-card {
            flex: 1;
            background: #e3f2fd;
            margin: 0 0.3rem;
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
            font-weight: 700;
            color: #003366;
            box-shadow: 0 2px 5px rgba(0,77,154,0.15);
        }
        #dashboardScreen .status-card:first-child {
            margin-left: 0;
        }
        #dashboardScreen .status-card:last-child {
            margin-right: 0;
        }
        #dashboardScreen .alerts-list {
            max-height: 150px;
            overflow-y: auto;
            margin: 1rem 0;
            background: #fff3cd;
            border: 1px solid #ffeeba;
            border-radius: 6px;
            padding: 0.7rem;
            font-size: 0.9rem;
            color: #856404;
        }
        #dashboardScreen .alerts-list li {
            margin-bottom: 0.4rem;
        }
        #dashboardScreen .quick-actions {
            display: flex;
            justify-content: space-around;
            margin-top: 1rem;
        }

        /* Forms */
        form label {
            font-weight: 600;
            display: block;
        }

        /* Equipo Detalle */
        #equipmentDetailScreen .section {
            margin-bottom: 1.2rem;
        }
        #equipmentDetailScreen .history-list {
            max-height: 120px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 6px;
            padding: 0.5rem;
            font-size: 0.9rem;
            background: #fafafa;
        }
        #equipmentDetailScreen .history-list li {
            margin-bottom: 0.3rem;
        }
        #equipmentDetailScreen .problem-form textarea {
            resize: vertical;
            min-height: 60px;
        }
        #equipmentDetailScreen .problem-form input[type="file"] {
            margin-top: 0.2rem;
        }

        /* Responsive touch friendly */
        @media (hover: none) {
            button {
                font-size: 1rem;
                padding: 1rem;
            }
            input, select, textarea {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
<header>
    BIOREN - Gestión de Equipos
</header>

<!-- Login Screen -->
<section id="loginScreen" class="screen">
    <img class="logo" src="https://upload.wikimedia.org/wikipedia/commons/a/a7/UNAM_Mexico_logo.svg" alt="Logo BIOREN"/>
    <form id="loginForm">
        <div id="loginError" role="alert" aria-live="assertive">Usuario y contraseña son requeridos.</div>
        <label for="inputUsername">Usuario universitario</label>
        <input id="inputUsername" name="username" type="text" autocomplete="username" placeholder="Ejemplo: juan.perez" required />
        <label for="inputPassword">Contraseña</label>
        <input id="inputPassword" name="password" type="password" autocomplete="current-password" placeholder="Contraseña" required />
        <button type="submit">Iniciar Sesión</button>
    </form>
</section>

<!-- Dashboard -->
<section id="dashboardScreen" class="screen hidden" aria-label="Dashboard">
    <h2>Resumen de Equipos</h2>
    <div class="status-cards" aria-live="polite" aria-atomic="true">
        <div class="status-card" style="background:#d4edda; color:#155724;">
            Equipos OK<br /><strong>30</strong>
        </div>
        <div class="status-card" style="background:#fff3cd; color:#856404;">
            Mantenimientos Próximos<br /><strong>12</strong>
        </div>
        <div class="status-card" style="background:#f8d7da; color:#721c24;">
            Equipos Atrasados<br /><strong>8</strong>
        </div>
    </div>

    <h3>Alertas y Recordatorios</h3>
    <ul class="alerts-list" id="alertsList" role="list">
        <li>Microscopio #ID123 - Mantenimiento urgente en 1 semana - Encargado: María</li>
        <li>Espectrómetro #ID456 - Mantenimiento burocrático en 4 meses - Encargado: Juan</li>
        <li>Centrífuga #ID789 - Reporte crítico sin mantenimiento - Encargado: Sofía</li>
    </ul>

    <div class="quick-actions" role="region" aria-label="Acciones rápidas">
        <button id="btnRegisterEquipment">Registrar Equipo</button>
        <button id="btnViewEquipment">Ver Equipos</button>
    </div>
</section>

<!-- Register Equipment -->
<section id="registerEquipmentScreen" class="screen hidden" aria-label="Registrar Equipo">
    <h2>Registrar Nuevo Equipo</h2>
    <form id="registerEquipmentForm">
        <label for="inputId">Identificador único (ID Universidad)</label>
        <input type="text" id="inputId" name="id" required placeholder="Ej: ID1234" />

        <label for="inputModel">Modelo</label>
        <input type="text" id="inputModel" name="model" required placeholder="Ej: Microscopio X100" />

        <label for="inputBrand">Marca</label>
        <input type="text" id="inputBrand" name="brand" required placeholder="Ej: Nikon" />

        <label for="inputLocation">Ubicación (edificio/unidad)</label>
        <input type="text" id="inputLocation" name="location" required placeholder="Ej: Edificio A / Unidad 3" />

        <label for="inputLastMaintenance">Fecha última calibración/mantenimiento</label>
        <input type="date" id="inputLastMaintenance" name="lastMaintenance" required />

        <label for="inputResponsible">Encargado de mantención</label>
        <input type="text" id="inputResponsible" name="responsible" required placeholder="Ej: Dr. López" />

        <label for="inputFrequency">Frecuencia de mantención</label>
        <select id="inputFrequency" name="frequency" required>
            <option value="">Seleccione una opción</option>
            <option value="3 months">Cada 3 meses</option>
            <option value="6 months">Cada 6 meses</option>
            <option value="1 year">Cada 1 año</option>
            <option value="5 years">Cada 5 años</option>
        </select>

        <label for="inputSize">Tamaño</label>
        <select id="inputSize" name="size" required>
            <option value="">Seleccione tamaño</option>
            <option value="small">Pequeño</option>
            <option value="medium">Mediano</option>
            <option value="large">Grande</option>
        </select>

        <label for="inputCriticality">Criticidad</label>
        <select id="inputCriticality" name="criticality" required>
            <option value="">Seleccione criticidad</option>
            <option value="low">Baja</option>
            <option value="medium">Media</option>
            <option value="high">Alta</option>
        </select>

        <label for="inputMaintenancePDF">PDF de mantenciones anteriores</label>
        <input type="file" id="inputMaintenancePDF" name="maintenancePDF" accept="application/pdf" />

        <button type="submit">Guardar Equipo</button>
        <button type="button" id="btnCancelRegister">Cancelar</button>
    </form>
</section>

<!-- Equipment Detail Screen -->
<section id="equipmentDetailScreen" class="screen hidden" aria-label="Detalle del Equipo">
    <h2>Detalle del Equipo</h2>
    <div class="section">
        <strong>ID:</strong> <span id="detailId">ID1234</span><br/>
        <strong>Modelo:</strong> <span id="detailModel">Microscopio X100</span><br/>
        <strong>Marca:</strong> <span id="detailBrand">Nikon</span><br/>
        <strong>Ubicación:</strong> <span id="detailLocation">Edificio A / Unidad 3</span><br/>
        <strong>Última mantención:</strong> <span id="detailLastMaintenance">2024-03-10</span><br/>
        <strong>Encargado:</strong> <span id="detailResponsible">Dr. López</span><br/>
        <strong>Frecuencia:</strong> <span id="detailFrequency">Cada 3 meses</span><br/>
        <strong>Tamaño:</strong> <span id="detailSize">Mediano</span><br/>
        <strong>Criticidad:</strong> <span id="detailCriticality">Alta</span><br/>
    </div>

    <div class="section">
        <h3>Historial de Mantenimientos</h3>
        <ul class="history-list" id="maintenanceHistory">
            <li>2023-12-10: Cambio de filamento</li>
            <li>2022-09-15: Calibración general</li>
            <li>2021-06-20: Revisión preventiva</li>
        </ul>
        <button id="btnViewPDFs">Ver PDFs Mantenciones</button>
    </div>

    <div class="section problem-form">
        <h3>Reportar Problema</h3>
        <form id="problemReportForm">
            <label for="problemDescription">Descripción del problema</label>
            <textarea id="problemDescription" name="description" required placeholder="Describa el problema..."></textarea>

            <label for="problemSeverity">Gravedad</label>
            <select id="problemSeverity" name="severity" required>
                <option value="">Seleccione gravedad</option>
                <option value="leve">Leve</option>
                <option value="moderado">Moderado</option>
                <option value="critico">Crítico</option>
            </select>

            <label for="problemFiles">Adjuntar imágenes/PDFs</label>
            <input type="file" id="problemFiles" name="problemFiles" accept="image/*,application/pdf" multiple/>

            <button type="submit">Enviar Reporte</button>
        </form>
    </div>

    <button id="btnBackDashboard" style="margin-top:15px; background:#6c757d;">Volver al Dashboard</button>
</section>

<script>
    // State simulation for this mockup
    const screens = {
        login: document.getElementById('loginScreen'),
        dashboard: document.getElementById('dashboardScreen'),
        register: document.getElementById('registerEquipmentScreen'),
        detail: document.getElementById('equipmentDetailScreen')
    };

    function showScreen(name) {
        for (const key in screens) {
            if (screens.hasOwnProperty(key)) {
                screens[key].classList.add('hidden');
            }
        }
        screens[name].classList.remove('hidden');
    }

    // Login
    const loginForm = document.getElementById('loginForm');
    const loginError = document.getElementById('loginError');
    loginForm.addEventListener('submit', e => {
        e.preventDefault();
        console.log('Formulario login enviado');
        const username = loginForm.username.value.trim();
        const password = loginForm.password.value.trim();
        if (username && password) {
            loginError.style.display = 'none';
            showScreen('dashboard');
        } else {
            loginError.style.display = 'block';
        }
    });

    // Navigation buttons on dashboard
    document.getElementById('btnRegisterEquipment').addEventListener('click', () => {
        showScreen('register');
    });
    document.getElementById('btnViewEquipment').addEventListener('click', () => {
        // For simplicity just open equipment detail screen
        loadDummyEquipmentDetail();
        showScreen('detail');
    });

    // Cancel register
    document.getElementById('btnCancelRegister').addEventListener('click', () => {
        showScreen('dashboard');
    });

    // Submit register form
    document.getElementById('registerEquipmentForm').addEventListener('submit', e => {
        e.preventDefault();
        alert('Equipo registrado correctamente (simulado). Volviendo al dashboard.');
        showScreen('dashboard');
        // Here you could reset form or update lists in a real app
    });

    // Back button on equipment detail
    document.getElementById('btnBackDashboard').addEventListener('click', () => {
        showScreen('dashboard');
    });

    // Submit problem report form
    document.getElementById('problemReportForm').addEventListener('submit', e => {
        e.preventDefault();
        alert('Reporte enviado (simulado). Gracias por informar.');
        e.target.reset();
    });

    // Function to load dummy equipment data (simulating selection from list)
    function loadDummyEquipmentDetail() {
        document.getElementById('detailId').textContent = 'ID1234';
        document.getElementById('detailModel').textContent = 'Microscopio X100';
        document.getElementById('detailBrand').textContent = 'Nikon';
        document.getElementById('detailLocation').textContent = 'Edificio A / Unidad 3';
        document.getElementById('detailLastMaintenance').textContent = '2024-03-10';
        document.getElementById('detailResponsible').textContent = 'Dr. López';
        document.getElementById('detailFrequency').textContent = 'Cada 3 meses';
        document.getElementById('detailSize').textContent = 'Mediano';
        document.getElementById('detailCriticality').textContent = 'Alta';

        const historyList = document.getElementById('maintenanceHistory');
        historyList.innerHTML = `
      <li>2023-12-10: Cambio de filamento</li>
      <li>2022-09-15: Calibración general</li>
      <li>2021-06-20: Revisión preventiva</li>
    `;
    }
</script>
</body>
</html>

